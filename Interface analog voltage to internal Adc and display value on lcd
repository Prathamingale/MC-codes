#include<P18F4520.h>

#pragma config OSC-HS

#pragma config PWRT-OFF

#pragma config WDT-OFF

#pragma config DEBUG-OFF, LVP-OFF

void ledemd(unsigned char value); void leddata(unsigned char value); void msdelay(unsigned int itime);

#define Idata PORTD 203

#define rs PORTBbits.RB3

#define rw PORTBbits.RB4 Ch

#define en PORTBbits.RB5

void main(void)

unsigned int i, d; unsigned char val, temp[3]; TRISD=0; PORTD=0; TRISB=0x00;

PORTB=0:

ADCONO=0X01; ADCON1=0X0E; ADCON2-0b10001010;

msdelay(15);

lcdcmd(0x38);

msdelay(15); ledemd(0x0E);

msdelay(15);

ledemd(0x01):

msdelay(15);

ledemd(0x06);

msdelay(15):

while(1)

1

ledemd(0x80);
msdelay(20):

ADCONObits GO= 1;

while

(ADCONObits.DONE ==1);temp[0]= (ADRESH & 0x01):temp[1]= (ADRESL & 0xf0)>>4;temp[2]=(ADRESL & 0x0f);

for(d=0; d<3; d++)

if(temp[d] < 10)

temp[d] = temp[d]+0x30;

else

temp[d]= temp[d]+0x37;

Icddata(temp[d]);

msdelay(15);

msdelay(10);

void ledemd (unsigned char value)

Idata-value;

rs =0:

rw = 0

cn = 1

msdelay(1);

en = 0

void leddata (unsigned char value)

1

ldata-value;

rs = 1

Gamma*w = 0

en = 1

msdelay(1):

en =0:

void msdelay (unsigned int itime),

int i, j

for(i=0;i<itime;i++)

for(j=0;j<1235;j++);

}
